<div class="w-full flex flex-col bg-white rounded-lg p-4 shadow-md min-h-fit gap-2" data-testid="qr-code-container">
        <%= render "shared/typography", sub_heading: "Room QR Code", class: "text-slate-900" %>
        <% if @room.qr_code.attached? %>
            <%= image_tag url_for(@room.qr_code.variant(resize_to_limit: [250, 250]).processed), class: "mx-auto mb-2", data: { testid: "qr-code-image" } %>
            <% original_url = url_for(@room.qr_code) %>
            <% downloadable_url = original_url.sub('/upload/', "/upload/fl_attachment:room-#{@room.slug}/") %>

            <%= link_to 'Download QR Code', downloadable_url,
                class: 'btn btn-light',
                data: { testid: "download-qr-code-button" },
                download: "room-#{@room.slug}-qr-code.png" %>
        <% else %>
            <%= render "shared/empty_state", 
                icon_name: "qr-code",
                message: "No QR Code",
                data: { testid: "empty-qr-code-state" }
            %>
        <% end %>
</div>
