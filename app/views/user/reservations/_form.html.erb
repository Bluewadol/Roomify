<div  class="form-group" data-controller="room-selector">
    <%= form_with(url: new_reservation_path, method: :get, local: true, data: { room_selector_target: "filterForm" }, class: "flex w-full items-end justify-end") do |filter_form| %>
        <%= filter_form.hidden_field :start_date, value: params[:start_date], data: { action: "input->room-selector#syncToFilterForm", room_selector_target: "startDateFilter" } %>
        <%= filter_form.hidden_field :end_date, value: params[:end_date], data: { action: "input->room-selector#syncToFilterForm", room_selector_target: "endDateFilter" } %>
        <%= filter_form.hidden_field :start_time, value: params[:start_time], data: { action: "input->room-selector#syncToFilterForm", room_selector_target: "startTimeFilter" } %>
        <%= filter_form.hidden_field :end_time, value: params[:end_time], data: { action: "input->room-selector#syncToFilterForm", room_selector_target: "endTimeFilter" } %>
        <%= filter_form.hidden_field :room_id, value: params[:room_id] || @room&.id, data: { room_selector_target: "roomIdFilter" } %>
        <div class="w-full md:w-1/3 flex-shrink-0 ">
            <%= render "shared/search_input", form: filter_form, field: :name, value: params[:name], placeholder: "Search room by name..." %>
        </div>
    <% end %>
    <div class="form-group flex flex-col gap-4">
        <%= form_with(model: @reservation, url: @reservation.persisted? ? reservation_path(@reservation) : reservations_path, method: @reservation.persisted? ? :patch : :post, local: true, data: { room_selector_target: "reservationForm" }) do |form| %>
            <div class="flex w-full gap-4 flex-wrap lg:flex-nowrap">
                <div class="w-2/3 flex flex-col gap-4">
                    <%= render "user/reservations/component/inputs", form: form%>
                    <div class="flex flex-col bg-white gap-2 w-full h-auto rounded-lg border p-4 shadow-md">
                        <div class="flex justify-between items-center">
                            <%= render "shared/typography", sub_heading: "Available Rooms" %>
                        </div>
                        <div class="flex flex-col">
                            <%= render "user/reservations/component/room_list", rooms: @rooms%>
                        </div>
                    </div>
                </div>
                <%= render "user/reservations/component/booking_summary", form: form%>
            </div>
        <% end %> 
    </div>
</div>